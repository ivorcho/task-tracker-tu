<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
	<title><h:outputText value="Create tasks" /></title>
	
	<h:outputScript library="primefaces" name="jquery/jquery.js" />
</h:head>

<h:body >
	<div id="main_view">
		<div id="create_task_form">
			<p:messages showDetail="true" autoUpdate="true" closable="true" globalOnly="true" />
			
			<h:form>
			<p:outputLabel for="taskName" value="Task Name" />
				<br />
				<p:inputText id="taskName" styleClass="middle" value="#{createTaskMB.taskName}" required="true" requiredMessage="Required field" size="40" />
				<p:message for="taskName" />
				<br />
				<p:outputLabel for="status" value="Status" />
				<br />
				<p:selectOneMenu id="status" value="#{createTaskMB.status}" style="width:200px" >
                <f:selectItems value="#{createTaskMB.taskStatuses}" /> <!--needs to be completed -->
                </p:selectOneMenu>
                <br />
                <p:outputLabel for="assignee" value="Assignee" />
				<br />
				<p:selectOneMenu id="assignee" value="#{createTaskMB.assignee}" style="width:200px" >
				<f:selectItem itemLabel="No one" itemValue="" />
                <f:selectItems value="#{createTaskMB.users}" var="user" itemValue="#{user.username}" itemLabel="#{user.fullName}"/>
                </p:selectOneMenu>
                <br />
                <p:outputLabel for="dueDate" value="Due Date" />
                <br />
     			<p:calendar id="dueDate" value="#{createTaskMB.dueDate}" mindate="#{createTaskMB.currentDate}" pattern="dd/MM/yyyy" validator="dueDateValidator"/>
     			<p:message for="dueDate" />
          		<br />
          		<p:outputLabel for="description" value="Description" />
          		<br />
          		<p:inputTextarea id ="description" value="#{createTaskMB.description}" rows="10" cols="80" />
          		<br />
				<p:commandButton value="Create Task" action="#{createTaskMB.createTask()}" update="@form"></p:commandButton>
			</h:form>
			<h:form>
				<br />
				<p:commandButton value="Log out" action="#{loginMB.logout}"></p:commandButton>
			</h:form>
		</div>
	</div>
</h:body>
</html>